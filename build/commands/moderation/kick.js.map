{"version":3,"file":"kick.js","sourceRoot":"","sources":["../../../src/commands/moderation/kick.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n    ButtonInteraction,\r\n    Constants,\r\n    GuildMember,\r\n    MessageActionRow,\r\n    MessageButton\r\n} from 'discord.js'\r\n\r\nimport { ICommand } from 'wokcommands'\r\n\r\nexport default {\r\n    category: 'Moderation',\r\n    description: 'Kicks a user.',\r\n    permissions: ['KICK_MEMBERS'],\r\n    slash: true,\r\n    testOnly: false,\r\n    guildOnly: true,\r\n    minArgs: 2,\r\n    expectedArgs: '<user> <reason>',\r\n    options: [\r\n        {\r\n            name: 'user',\r\n            description: 'The target user.',\r\n            required: true,\r\n            type: Constants.ApplicationCommandOptionTypes.USER,\r\n        },\r\n        {\r\n            name: 'reason',\r\n            description: 'The kick reason.',\r\n            required: true,\r\n            type: Constants.ApplicationCommandOptionTypes.STRING,\r\n        },\r\n    ],\r\n\r\n    callback: async ({ interaction, channel }) => {\r\n        const target = interaction.options.getMember('user') as GuildMember\r\n\r\n        if (!target)\r\n            return 'â›” Please tag someone to kick.'\r\n\r\n        if (!target.kickable)\r\n            return 'â›”  Cannot kick that user.'\r\n\r\n        const reason = interaction.options.getString('reason')\r\n\r\n        const row = new MessageActionRow()\r\n            .addComponents(\r\n                new MessageButton()\r\n                    .setCustomId('confirm')\r\n                    .setEmoji('ðŸ”¨')\r\n                    .setLabel('Confirm')\r\n                    .setStyle('SUCCESS')\r\n            )\r\n            .addComponents(\r\n                new MessageButton()\r\n                    .setCustomId('cancel')\r\n                    .setLabel('Cancel')\r\n                    .setStyle('SECONDARY')\r\n            )\r\n\r\n        await interaction.reply({\r\n            content: `Are you sure you want to kick <@${target.id}>?\\nReason: ${reason}`,\r\n            components: [row],\r\n            ephemeral: false,\r\n        })\r\n\r\n        const filter = (buttonInteraction: ButtonInteraction) => {\r\n            return interaction.user.id === buttonInteraction.user.id\r\n        }\r\n\r\n        const collector = channel.createMessageComponentCollector({\r\n            filter,\r\n            max: 1,\r\n            time: 1000 * 15,\r\n        })\r\n\r\n        collector.on('end', async (collected) => {\r\n            if (collected.size === 0) {\r\n                await interaction.editReply({\r\n                    content: 'â›” You did not respond in time.',\r\n                    components: [],\r\n                })\r\n                return\r\n            }\r\n\r\n            if (collected.first()?.customId === 'confirm') {\r\n                // await target.kick(reason!)\r\n                await interaction.editReply({\r\n                    content: `You kicked <@${target.id}>\\nReason: ${reason}`,\r\n                    components: [],\r\n                })\r\n            } else if (collected.first()?.customId === 'cancel') {\r\n                await interaction.editReply({\r\n                    content: \"Interaction has been cancelled.\",\r\n                    components: [],\r\n                })\r\n            }\r\n        })\r\n    },\r\n} as ICommand"]}