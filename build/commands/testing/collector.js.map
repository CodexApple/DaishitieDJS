{"version":3,"file":"collector.js","sourceRoot":"","sources":["../../../src/commands/testing/collector.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,kBAAe;IACX,QAAQ,EAAE,SAAS;IACnB,WAAW,EAAE,SAAS;IACtB,KAAK,EAAE,KAAK;IACZ,QAAQ,EAAE,IAAI;IACd,SAAS,EAAE,IAAI;IAEf,QAAQ,EAAE,UAAO,EAAoB;YAAlB,OAAO,aAAA,EAAE,OAAO,aAAA;;;;;4BAC/B,WAAM,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAA;;wBAAzB,SAAyB,CAAA;wBACb,WAAM,OAAO,CAAC,KAAK,CAAC,4BAA4B,CAAC,EAAA;;wBAAzD,KAAK,GAAG,SAAiD;wBAYvD,MAAM,GAAG,UAAC,QAAyB,EAAE,IAAU;4BACjD,OAAO,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,MAAM,CAAC,EAAE,CAAA;wBACxC,CAAC,CAAA;wBAEK,SAAS,GAAG,OAAO,CAAC,uBAAuB,CAAC;4BAC9C,MAAM,QAAA;4BACN,GAAG,EAAE,CAAC;4BACN,IAAI,EAAE,IAAI,GAAG,CAAC;yBACjB,CAAC,CAAA;wBAEF,SAAS,CAAC,EAAE,CAAC,SAAS,EAAE,UAAC,QAAQ;4BAC7B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;wBAC/B,CAAC,CAAC,CAAA;wBAEF,SAAS,CAAC,EAAE,CAAC,KAAK,EAAE,UAAO,SAAS;;;;;6CAC5B,CAAA,SAAS,CAAC,IAAI,KAAK,CAAC,CAAA,EAApB,cAAoB;wCACpB,WAAM,KAAK,CAAC,IAAI,CAAC,8BAA8B,CAAC,EAAA;;wCAAhD,SAAgD,CAAA;wCAChD,WAAM;;wCAGN,IAAI,GAAG,gBAAgB,CAAA;wCAC3B,SAAS,CAAC,OAAO,CAAC,UAAC,QAAQ,IAAK,OAAA,IAAI,IAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,OAAI,EAAlC,CAAkC,CAAC,CAAA;wCACnE,WAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAA;;wCAAtB,SAAsB,CAAA;;;;6BACzB,CAAC,CAAA;;;;;KACL;CACQ,CAAA","sourcesContent":["import { Message, MessageReaction, User } from 'discord.js'\r\nimport { ICommand } from 'wokcommands'\r\n\r\nexport default {\r\n    category: 'Testing',\r\n    description: 'Testing',\r\n    slash: false,\r\n    testOnly: true,\r\n    ownerOnly: true,\r\n\r\n    callback: async ({ message, channel }) => {\r\n        await message.react('👍')\r\n        let reply = await message.reply('Please confirm this action')\r\n\r\n        // const filter = (m: Message) => {\r\n        //     return m.author.id === message.author.id\r\n        // }\r\n\r\n        // const collector = channel.createMessageCollector({\r\n        //     filter,\r\n        //     max: 1,\r\n        //     time: 1000 * 5,\r\n        // })\r\n\r\n        const filter = (reaction: MessageReaction, user: User) => {\r\n            return user.id === message.author.id\r\n        }\r\n\r\n        const collector = message.createReactionCollector({\r\n            filter,\r\n            max: 1,\r\n            time: 1000 * 5,\r\n        })\r\n\r\n        collector.on('collect', (reaction) => {\r\n            console.log(reaction.emoji)\r\n        })\r\n\r\n        collector.on('end', async (collected) => {\r\n            if (collected.size === 0) {\r\n                await reply.edit('⛔ You did not react in time.')\r\n                return\r\n            }\r\n\r\n            let text = 'Collected:\\n\\n'\r\n            collected.forEach((reaction) => text += `${reaction.emoji.name}\\n`)\r\n            await reply.edit(text)\r\n        })\r\n    },\r\n} as ICommand"]}